{% extends "layout.html" %}

  <!-- Custom CSS, JavaScript, Title -->
  {% block custom_css %} <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}"> {% endblock %}
  {% block js %} <script src="{{ url_for('static', filename='js/index.js') }}"></script> {% endblock %}
  {% block title %} <title>CS50 - Book Reviews w/Goodreads - Index</title> {% endblock %}

<!-- Body -->
{% block body %}

  <form action="/" method="post">
    <nav class="navbar navbar-dark bg-dark flex-md-nowrap shadow">
      <a class="navbar-brand col-lg-4" href="#">CS50 - Book Reviews w/Goodreads</a>
      <input class="form-control form-control-dark" type="text" name="search_bar" placeholder="Enter title, author, or ISBN number" aria-label="Enter title, author, or ISBN number">
      <!-- <input type="text" name="search_bar" placeholder="Enter title, author, or ISBN number"> -->
      <ul class="navbar-nav px-md-3">
        <li class="nav-item text-nowrap">
          <button class="btn btn-outline-success my-2" type="submit">Search</button>
        </li>
      </ul>
    </nav>
  </form>

  
  <main role="main" class="main">

    <p>Welcome, {{ user }} with user_id: {{ id }}!</p>
    <a href="{{ url_for('logout')}}">Logout</a>
    <!-- <form action="/search" method="post">
      Search:<br>
      <input type="text" name="search_bar" placeholder="Enter title, author, or ISBN number">
      <button type="submit">Submit</button>
    </form> -->

    <p>
      <h4>Results for {{ search_term }}:</h4>
      {{ alert }}
      <ul>
        {% for match in matches: %}
          <li><a href="{{ url_for('book', id=match.id) }}">{{ match.title }}</a> by {{ match.author }} ({{ match.year }}), ISBN: {{ match.isbn }}</li>
        {% endfor %}
      </ul>
    </p>



  </main>

{% endblock %}
